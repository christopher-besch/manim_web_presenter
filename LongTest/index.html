<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,height=device-height,initial-scale=1"><title>Manim Web Presenter</title></head><body><div class="content"><div class="side-bar"><div class="timeline"></div><div class="time-spent">15.3.32.15</div></div><div class="main"><div class="playback"><video>Your browser doesn't support HTML5 videos.</video></div><div class="controls"><button id="play-previous-slide">&lt;</button> <button id="play-pause">||</button> <button id="play-next-slide">&gt;</button></div></div></div><script>(()=>{"use strict";var e={424:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(645),r=n.n(i)()((function(e){return e[1]}));r.push([e.id,"body {\n    margin: 0px;\n    background-color: black;\n    color: white;\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n}\n\nbody div.content {\n    display: flex;\n    flex-direction: row;\n    flex-grow: 1;\n}\n\ndiv.side-bar {\n    display: flex;\n    flex-direction: column;\n    flex-grow: 0;\n    width: 250px;\n    min-width: 250px;\n}\n\ndiv.side-bar div.timeline {\n    display: flex;\n    flex-grow: 1;\n}\n\ndiv.side-bar div.time-spent {\n    display: flex;\n    flex-grow: 0;\n    justify-content: right;\n}\n\ndiv.main {\n    display: flex;\n    flex-direction: column;\n    flex-grow: 1;\n}\n\ndiv.main div.playback {\n    display: flex;\n    flex-direction: row;\n    flex-grow: 1;\n    min-height: 0;\n}\n\ndiv.main div.playback video {\n    flex-grow: 1;\n    max-width: calc(100vw - 250px);\n}\n\ndiv.main div.controls {\n    display: flex;\n    flex-grow: 0;\n    justify-content: center;\n    height: 180px;\n    min-height: 180px;\n}\n",""]);const s=r},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var s=0;s<this.length;s++){var o=this[s][0];null!=o&&(r[o]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);i&&r[d[0]]||(n&&(d[2]?d[2]="".concat(n," and ").concat(d[2]):d[2]=n),t.push(d))}},t}},379:e=>{var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var s={},o=[],l=0;l<e.length;l++){var d=e[l],a=i.base?d[0]+i.base:d[0],c=s[a]||0,u="".concat(a," ").concat(c);s[a]=c+1;var h=n(u),f={css:d[1],media:d[2],sourceMap:d[3]};-1!==h?(t[h].references++,t[h].updater(f)):t.push({identifier:u,updater:r(f,i),references:1}),o.push(u)}return o}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var s=i(e=e||[],r=r||{});return function(e){e=e||[];for(var o=0;o<s.length;o++){var l=n(s[o]);t[l].references--}for(var d=i(e,r),a=0;a<s.length;a++){var c=n(s[a]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}s=d}}},569:e=>{var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i=n.css,r=n.media,s=n.sourceMap;r?e.setAttribute("media",r):e.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(i,e)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={id:i,exports:{}};return e[i](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e,t=n(379),i=n.n(t),r=n(795),s=n.n(r),o=n(569),l=n.n(o),d=n(565),a=n.n(d),c=n(216),u=n.n(c),h=n(589),f=n.n(h),p=n(424),_={};_.styleTagTransform=f(),_.setAttributes=a(),_.insert=l().bind(null,"head"),_.domAPI=s(),_.insertStyleElement=u(),i()(p.Z,_),p.Z&&p.Z.locals&&p.Z.locals,function(e){e[e.NORMAL=0]="NORMAL",e[e.LOOP=1]="LOOP",e[e.COMPLETE_LOOP=2]="COMPLETE_LOOP"}(e||(e={}));class v extends class{constructor(t){this.type=function(t){switch(t){case"normal":return e.NORMAL;case"loop":return e.LOOP;case"complete_loop":return e.COMPLETE_LOOP;default:return e.NORMAL}}(t.slide_type),this.name=t.name,this.slide_id=t.slide_id,this.video=t.video}}{constructor(e){super(e),this.media_source=new MediaSource,this.media_buffer=null,this.media_source.onsourceopen=e=>{let t='video/mp4; codecs="avc1.64002A"';if(!("MediaSource"in window)||!MediaSource.isTypeSupported(t))return console.error("MediaSource or mime codec not supported"),void this.media_source.endOfStream();let n=this.media_source.addSourceBuffer(t);n.onupdateend=e=>{this.media_source.endOfStream()},n.onerror=e=>{console.error("Failed to append buffer to source buffer:"),console.error(this.media_source)},n.onabort=e=>{console.error("Aborted source buffer:"),console.error(this.media_source)},this.load((()=>{null!=this.media_buffer?n.appendBuffer(this.media_buffer):n.abort()}),(()=>{n.abort()}))}}load(e=null,t=null){if(null!==this.media_buffer)return void(null!==e&&e());let n=new XMLHttpRequest;n.responseType="arraybuffer",n.onload=()=>{this.media_buffer=n.response,console.log(`Slide '${this.name}' successfully loaded`),null!==e&&e()},n.onerror=()=>{console.error(`Slide '${this.name}' failed to load`),null!==t&&t()},n.open("GET",this.video,!0),n.send()}unload(){this.media_buffer=null}get_src_url(){return URL.createObjectURL(this.media_source)}}let m=new class extends class{constructor(){this.video_element=null,this.slides=[],this.current_slide=-1,this.next_slide=0,this.previous_slide=-1}load_slides(e){!function(e,t){let n=new XMLHttpRequest;n.onreadystatechange=()=>{if(4==n.readyState)try{t(JSON.parse(n.responseText),200==n.status)}catch(e){t(e,!1)}},n.open("GET","index.json",!0),n.send()}(0,((t,n)=>{if(!n)return console.error(t),void console.error("Slides could not be loaded");let i=t.slides;for(let e=0;e<i.length;++e)this.add_slide(i[e]);console.log(`All ${i.length} slides have been parsed successfully.`),e(this)}))}update_video(){}play_video(){if(this.current_slide!=this.previous_slide){if(this.previous_slide=this.current_slide,null!=this.video_element){0!=this.video_element.src.length&&URL.revokeObjectURL(this.video_element.src),this.video_element.src=this.slides[this.current_slide].get_src_url(),this.video_element.currentTime=0;let e=this.video_element.play();void 0!==e&&e.then((()=>{}),(()=>{}))}}else if(null!=this.video_element){this.video_element.currentTime=0;let e=this.video_element.play();void 0!==e&&e.then((()=>{}),(()=>{}))}}set_video_element(t){this.video_element=t,this.video_element.onended=t=>{switch(this.slides[this.current_slide].type){case e.LOOP:this.update_video(),this.play_video();break;case e.COMPLETE_LOOP:this.current_slide=this.next_slide,this.update_video(),this.play_video()}}}get_current_slide(){return this.current_slide}set_current_slide(t){t<0||t>=this.slides.length?console.error(`Trying to switch to invalid slide #${t}`):(console.log(`Switching to slide #${t}`),this.current_slide>=0&&this.slides[this.current_slide].type==e.COMPLETE_LOOP?this.next_slide=t:(this.next_slide=t,this.current_slide=t,this.update_video(),this.play_video()))}play_next_slide(){this.set_current_slide(this.current_slide+1)}play_previous_slide(){this.set_current_slide(this.current_slide-1)}}{constructor(e,t){super(),this.slides_to_auto_load=e,this.slides_to_keep=t}update_video(){for(let e=this.current_slide+1,t=Math.min(this.current_slide+this.slides_to_auto_load+1,this.slides.length);e<t;++e)this.slides[e].load();for(let e=0,t=this.current_slide-this.slides_to_keep;e<t;++e)this.slides[e].unload()}add_slide(e){this.slides.push(new v(e))}}(5,2),y=[37],x=[39];document.addEventListener("keydown",(e=>{e.repeat||(y.includes(e.keyCode)?m.play_previous_slide():x.includes(e.keyCode)&&m.play_next_slide())})),document.body.onload=()=>{m.load_slides((e=>{let t=document.querySelector("div.main div.playback video");null!=t?e.set_video_element(t):console.error("Failed to find video element"),e.set_current_slide(0)}))}})()})();</script></body></html>