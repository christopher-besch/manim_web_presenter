<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,height=device-height,initial-scale=1"><title>Manim Web Presenter</title></head><body><div class="content"><div class="side-bar"><div class="timeline"></div><div class="time-spent">15.3.32.15</div></div><div class="main"><div class="playback"><video id="video0" class="main-video" preload="auto" muted>Your browser doesn't support HTML5 videos.</video><video id="video1" class="main-video" preload="auto" muted>Your browser doesn't support HTML5 videos.</video></div><div class="controls"><button id="play-previous-slide">&lt;</button> <button id="play-pause">||</button> <button id="play-next-slide">&gt;</button></div></div></div><script>(()=>{"use strict";var e={424:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(645),r=n.n(i)()((function(e){return e[1]}));r.push([e.id,"body {\n    margin: 0px;\n    background-color: black;\n    color: white;\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n}\n\nbody div.content {\n    display: flex;\n    flex-direction: row;\n    flex-grow: 1;\n}\n\ndiv.side-bar {\n    display: flex;\n    flex-direction: column;\n    flex-grow: 0;\n    width: 250px;\n    min-width: 250px;\n}\n\ndiv.side-bar div.timeline {\n    display: flex;\n    flex-grow: 1;\n}\n\ndiv.side-bar div.time-spent {\n    display: flex;\n    flex-grow: 0;\n    justify-content: right;\n}\n\ndiv.main {\n    display: flex;\n    flex-direction: column;\n    flex-grow: 1;\n}\n\ndiv.main div.playback {\n    display: flex;\n    flex-direction: row;\n    flex-grow: 1;\n    min-height: 0;\n}\n\ndiv.main div.playback video {\n    flex-grow: 1;\n    max-width: calc(100vw - 250px);\n}\n\ndiv.main div.controls {\n    display: flex;\n    flex-grow: 0;\n    justify-content: center;\n    height: 180px;\n    min-height: 180px;\n}\n\n.main-video {\n    position: absolute;\n    /* top: 0; */\n    /* left: 0 */\n}\n",""]);const s=r},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var s=0;s<this.length;s++){var o=this[s][0];null!=o&&(r[o]=!0)}for(var d=0;d<e.length;d++){var l=[].concat(e[d]);i&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},379:e=>{var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var s={},o=[],d=0;d<e.length;d++){var l=e[d],a=i.base?l[0]+i.base:l[0],u=s[a]||0,c="".concat(a," ").concat(u);s[a]=u+1;var h=n(c),f={css:l[1],media:l[2],sourceMap:l[3]};-1!==h?(t[h].references++,t[h].updater(f)):t.push({identifier:c,updater:r(f,i),references:1}),o.push(c)}return o}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var s=i(e=e||[],r=r||{});return function(e){e=e||[];for(var o=0;o<s.length;o++){var d=n(s[o]);t[d].references--}for(var l=i(e,r),a=0;a<s.length;a++){var u=n(s[a]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}s=l}}},569:e=>{var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i=n.css,r=n.media,s=n.sourceMap;r?e.setAttribute("media",r):e.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(i,e)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={id:i,exports:{}};return e[i](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e,t=n(379),i=n.n(t),r=n(795),s=n.n(r),o=n(569),d=n.n(o),l=n(565),a=n.n(l),u=n(216),c=n.n(u),h=n(589),f=n.n(h),p=n(424),v={};v.styleTagTransform=f(),v.setAttributes=a(),v.insert=d().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=c(),i()(p.Z,v),p.Z&&p.Z.locals&&p.Z.locals,function(e){e[e.NORMAL=0]="NORMAL",e[e.LOOP=1]="LOOP",e[e.COMPLETE_LOOP=2]="COMPLETE_LOOP"}(e||(e={}));class _ extends class{constructor(t){this.type=function(t){switch(t){case"normal":return e.NORMAL;case"loop":return e.LOOP;case"complete_loop":return e.COMPLETE_LOOP;default:return e.NORMAL}}(t.slide_type),this.name=t.name,this.slide_id=t.slide_id,this.video=t.video}}{constructor(e){super(e),this.media_source=new MediaSource,this.media_buffer=null,this.media_source.onsourceopen=e=>{let t='video/mp4; codecs="avc1.64002A"';if(!("MediaSource"in window)||!MediaSource.isTypeSupported(t))return console.error("MediaSource or mime codec not supported"),void this.media_source.endOfStream();let n=this.media_source.addSourceBuffer(t);n.onupdateend=e=>{this.media_source.endOfStream()},n.onerror=e=>{console.error("Failed to append buffer to source buffer:"),console.error(this.media_source)},n.onabort=e=>{console.error("Aborted source buffer:"),console.error(this.media_source)},this.load((()=>{null!=this.media_buffer?n.appendBuffer(this.media_buffer):n.abort()}),(()=>{n.abort()}))}}load(e=null,t=null){if(null!==this.media_buffer)return void(null!==e&&e());let n=new XMLHttpRequest;n.responseType="arraybuffer",n.onload=()=>{this.media_buffer=n.response,console.log(`Slide '${this.name}' successfully loaded`),null!==e&&e()},n.onerror=()=>{console.error(`Slide '${this.name}' failed to load`),null!==t&&t()},n.open("GET",this.video,!0),n.send()}unload(){this.media_buffer=null}get_src_url(){return URL.createObjectURL(this.media_source)}}class m extends class{constructor(t,n){this.current_video=0,this.slides=[],this.current_slide=-1,this.next_slide=0,this.previous_slide=-1,this.video0=t,this.video1=n,function(e,t){let n=new XMLHttpRequest;n.onreadystatechange=()=>{if(4==n.readyState)try{t(JSON.parse(n.responseText),200==n.status)}catch(e){t(e,!1)}},n.open("GET","index.json",!0),n.send()}(0,((t,n)=>{if(!n)return console.error(t),void console.error("Slides could not be loaded");let i=t.slides;for(let e=0;e<i.length;++e)this.add_slide(i[e]);console.log(`All ${i.length} slides have been parsed successfully.`);let r=t=>{switch(this.slides[this.current_slide].type){case e.LOOP:this.update_video();break;case e.COMPLETE_LOOP:this.current_slide=this.next_slide,this.update_video()}};this.video0.onended=r,this.video1.onended=r,this.play_slide(0)}))}update_video(){if(this.update_source(),this.current_slide!=this.previous_slide){this.previous_slide=this.current_slide;let e=this.get_current_video();this.current_video=0==this.current_video?1:0;let t=this.get_current_video();t.src=this.slides[this.current_slide].get_src_url(),t.style.visibility="visible",t.play().then((()=>{e.style.visibility="hidden"}))}else this.get_current_video().currentTime=0,this.get_current_video().play()}play_next_slide(){this.play_slide(this.current_slide+1)}play_previous_slide(){this.play_slide(this.current_slide-1)}play_slide(t){t<0||t>=this.slides.length?console.error(`Trying to switch to invalid slide #${t}`):(console.log(`Switching to slide #${t}`),this.current_slide>=0&&this.slides[this.current_slide].type==e.COMPLETE_LOOP?this.next_slide=t:(this.next_slide=t,this.current_slide=t,this.update_video()))}get_current_slide(){return this.current_slide}get_current_video(){return 0==this.current_video?this.video0:this.video1}update_source(){}}{constructor(e,t,n,i){super(e,t),this.slides_to_auto_load=n,this.slides_to_keep=i}update_source(){for(let e=this.current_slide+1,t=Math.min(this.current_slide+this.slides_to_auto_load+1,this.slides.length);e<t;++e)this.slides[e].load();for(let e=0,t=this.current_slide-this.slides_to_keep;e<t;++e)this.slides[e].unload()}add_slide(e){this.slides.push(new _(e))}}let y=[37],b=[39];document.body.onload=()=>{let e=document.getElementById("video0"),t=document.getElementById("video1");if(null==e||null==t)throw"Cant't find video elements.";let n=new m(e,t,5,2);document.addEventListener("keydown",(e=>{e.repeat||(y.includes(e.keyCode)?n.play_previous_slide():b.includes(e.keyCode)&&n.play_next_slide())}))}})()})();</script></body></html>