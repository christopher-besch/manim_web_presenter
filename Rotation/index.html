<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,height=device-height,initial-scale=1"><title>Manim Web Presenter</title></head><body><div class="split left padded-left"><h1>Timeline</h1><table id="timeline"><colgroup><col style="width=30px"><col style="width=30px"><col></colgroup></table></div><div class="split right"><div id="controls"><button id="play-previous-slide"><img/></button> <button id="play-current-slide"><img/></button> <button id="play-next-slide"><img/></button> <button id="enter-fullscreen"><img/></button></div><div id="videos-div"><video id="video0" class="main-video" muted width="720" height="480">Your browser doesn't support HTML5 videos.</video><video id="video1" class="main-video" muted width="720" height="480">Your browser doesn't support HTML5 videos.</video></div></div><script>(()=>{"use strict";var e={424:(e,t,i)=>{i.d(t,{Z:()=>l});var s=i(81),n=i.n(s),d=i(645),r=i.n(d)()(n());r.push([e.id,"/* splitting screen, from https://www.w3schools.com/howto/howto_css_split_screen.asp */\n.split {\n    height: 100%;\n    position: fixed;\n    z-index: 1;\n    top: 0;\n    overflow-x: hidden;\n    padding-top: 20px;\n}\n\n.left {\n    width: 20%;\n    left: 0;\n}\n\n.right {\n    width: 80%;\n    right: 0;\n}\n\n.centered {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    text-align: center;\n}\n\n.centered img {\n    width: 150px;\n    border-radius: 50%;\n}\n\n\n/* table styling */\n.padded-left {\n    padding-left: 20px;\n}\n\ntd {\n    text-align: left;\n}\n\n\n/* video styling */\n#videos-div {\n    position: relative;\n}\n\n.main-video {\n    top: 0;\n    left: 0;\n    /* todo: doesn't work on chrome */\n    /* border: 20px solid red; */\n}\n\n:fullscreen {\n    cursor: none;\n}\n\n:fullscreen .main-video {\n    width: 100vw;\n    height: 100vh;\n    min-width: 100vw;\n    min-height: 100vh;\n    max-width: 100vw;\n    max-height: 100vh;\n}\n\n/* second video overlaps first -> size of videos is still respected */\n#video0 {\n    position: relative;\n}\n\n#video1 {\n    position: absolute;\n}\n",""]);const l=r},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",s=void 0!==t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),s&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),s&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,s,n,d){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(s)for(var l=0;l<this.length;l++){var o=this[l][0];null!=o&&(r[o]=!0)}for(var a=0;a<e.length;a++){var c=[].concat(e[a]);s&&r[c[0]]||(void 0!==d&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=d),i&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=i):c[2]=i),n&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=n):c[4]="".concat(n)),t.push(c))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function i(e){for(var i=-1,s=0;s<t.length;s++)if(t[s].identifier===e){i=s;break}return i}function s(e,s){for(var d={},r=[],l=0;l<e.length;l++){var o=e[l],a=s.base?o[0]+s.base:o[0],c=d[a]||0,u="".concat(a," ").concat(c);d[a]=c+1;var g=i(u),M={css:o[1],media:o[2],sourceMap:o[3],supports:o[4],layer:o[5]};if(-1!==g)t[g].references++,t[g].updater(M);else{var I=n(M,s);s.byIndex=l,t.splice(l,0,{identifier:u,updater:I,references:1})}r.push(u)}return r}function n(e,t){var i=t.domAPI(t);return i.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;i.update(e=t)}else i.remove()}}e.exports=function(e,n){var d=s(e=e||[],n=n||{});return function(e){e=e||[];for(var r=0;r<d.length;r++){var l=i(d[r]);t[l].references--}for(var o=s(e,n),a=0;a<d.length;a++){var c=i(d[a]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}d=o}}},569:e=>{var t={};e.exports=function(e,i){var s=function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}(e);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(i)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,i)=>{e.exports=function(e){var t=i.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(i){!function(e,t,i){var s="";i.supports&&(s+="@supports (".concat(i.supports,") {")),i.media&&(s+="@media ".concat(i.media," {"));var n=void 0!==i.layer;n&&(s+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),s+=i.css,n&&(s+="}"),i.media&&(s+="}"),i.supports&&(s+="}");var d=i.sourceMap;d&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(d))))," */")),t.styleTagTransform(s,e,t.options)}(t,e,i)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},185:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTIwIDEybC0xLjQxLTEuNDFMMTMgMTYuMTdWNGgtMnYxMi4xN2wtNS41OC01LjU5TDQgMTJsOCA4IDgtOHoiLz48L3N2Zz4="},729:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyczQuNDggMTAgMTAgMTAgMTAtNC40OCAxMC0xMFMxNy41MiAyIDEyIDJ6bTAgMThjLTQuNDEgMC04LTMuNTktOC04czMuNTktOCA4LTggOCAzLjU5IDggOC0zLjU5IDgtOCA4em00LjU5LTEyLjQyTDEwIDE0LjE3bC0yLjU5LTIuNThMNiAxM2w0IDQgOC04eiIvPjwvc3ZnPg=="},817:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTcgMTRINXY1aDV2LTJIN3YtM3ptLTItNGgyVjdoM1Y1SDV2NXptMTIgN2gtM3YyaDV2LTVoLTJ2M3pNMTQgNXYyaDN2M2gyVjVoLTV6Ii8+PC9zdmc+"},773:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTEyIDRWMUw4IDVsNCA0VjZjMy4zMSAwIDYgMi42OSA2IDYgMCAxLjAxLS4yNSAxLjk3LS43IDIuOGwxLjQ2IDEuNDZDMTkuNTQgMTUuMDMgMjAgMTMuNTcgMjAgMTJjMC00LjQyLTMuNTgtOC04LTh6bTAgMTRjLTMuMzEgMC02LTIuNjktNi02IDAtMS4wMS4yNS0xLjk3LjctMi44TDUuMjQgNy43NEM0LjQ2IDguOTcgNCAxMC40MyA0IDEyYzAgNC40MiAzLjU4IDggOCA4djNsNC00LTQtNHYzeiIvPjwvc3ZnPg=="},664:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTE1LjYxIDcuNDFMMTQuMiA2bC02IDYgNiA2IDEuNDEtMS40MUwxMS4wMyAxMmw0LjU4LTQuNTl6Ii8+PC9zdmc+"},246:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTEwLjAyIDZMOC42MSA3LjQxIDEzLjE5IDEybC00LjU4IDQuNTlMMTAuMDIgMThsNi02LTYtNnoiLz48L3N2Zz4="},263:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyczQuNDggMTAgMTAgMTAgMTAtNC40OCAxMC0xMFMxNy41MiAyIDEyIDJ6bTAgMThjLTQuNDIgMC04LTMuNTgtOC04czMuNTgtOCA4LTggOCAzLjU4IDggOC0zLjU4IDgtOCA4eiIvPjxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjUiLz48L3N2Zz4="},706:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyczQuNDggMTAgMTAgMTAgMTAtNC40OCAxMC0xMFMxNy41MiAyIDEyIDJ6bTAgMThjLTQuNDIgMC04LTMuNTgtOC04czMuNTgtOCA4LTggOCAzLjU4IDggOC0zLjU4IDgtOCA4eiIvPjwvc3ZnPg=="},579:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTcuMTEgOC41M0w1LjcgNy4xMUM0LjggOC4yNyA0LjI0IDkuNjEgNC4wNyAxMWgyLjAyYy4xNC0uODcuNDktMS43MiAxLjAyLTIuNDd6TTYuMDkgMTNINC4wN2MuMTcgMS4zOS43MiAyLjczIDEuNjIgMy44OWwxLjQxLTEuNDJjLS41Mi0uNzUtLjg3LTEuNTktMS4wMS0yLjQ3em0xLjAxIDUuMzJjMS4xNi45IDIuNTEgMS40NCAzLjkgMS42MVYxNy45Yy0uODctLjE1LTEuNzEtLjQ5LTIuNDYtMS4wM0w3LjEgMTguMzJ6TTEzIDQuMDdWMUw4LjQ1IDUuNTUgMTMgMTBWNi4wOWMyLjg0LjQ4IDUgMi45NCA1IDUuOTFzLTIuMTYgNS40My01IDUuOTF2Mi4wMmMzLjk1LS40OSA3LTMuODUgNy03Ljkzcy0zLjA1LTcuNDQtNy03LjkzeiIvPjwvc3ZnPg=="},31:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTE2IDEzaC0zVjNoLTJ2MTBIOGw0IDQgNC00ek00IDE5djJoMTZ2LTJINHoiLz48L3N2Zz4="}},t={};function i(s){var n=t[s];if(void 0!==n)return n.exports;var d=t[s]={id:s,exports:{}};return e[s](d,d.exports,i),d.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=i(379),t=i.n(e),s=i(795),n=i.n(s),d=i(569),r=i.n(d),l=i(565),o=i.n(l),a=i(216),c=i.n(a),u=i(589),g=i.n(u),M=i(424),I={};I.styleTagTransform=g(),I.setAttributes=o(),I.insert=r().bind(null,"head"),I.domAPI=n(),I.insertStyleElement=c(),t()(M.Z,I),M.Z&&M.Z.locals&&M.Z.locals;var h,m=i(664),p=i(579),D=i(246),y=i(817),v=i(706),T=i(263),w=i(729),_=i(31),N=i(185),L=i(773);!function(e){e[e.NORMAL=0]="NORMAL",e[e.LOOP=1]="LOOP",e[e.SKIP=2]="SKIP",e[e.COMPLETE_LOOP=3]="COMPLETE_LOOP"}(h||(h={}));class A extends class{constructor(e){this.type=function(e){switch(e){default:return h.NORMAL;case"loop":return h.LOOP;case"skip":return h.SKIP;case"complete_loop":return h.COMPLETE_LOOP}}(e.slide_type),this.name=e.name,this.slide_id=e.slide_id,this.video=e.video}}{constructor(e){super(e),this.media_source=new MediaSource,this.media_buffer=null,this.media_source.onsourceopen=e=>{let t='video/mp4; codecs="avc1.64002A"';if(!("MediaSource"in window)||!MediaSource.isTypeSupported(t))return console.error("MediaSource or mime codec not supported"),void this.media_source.endOfStream();let i=this.media_source.addSourceBuffer(t);i.onupdateend=e=>{this.media_source.endOfStream()},i.onerror=e=>{console.error("Failed to append buffer to source buffer:"),console.error(this.media_source)},i.onabort=e=>{console.error("Aborted source buffer:"),console.error(this.media_source)},this.load((()=>{null!=this.media_buffer?i.appendBuffer(this.media_buffer):i.abort()}),(()=>{i.abort()}))}}load(e=null,t=null){if(null!==this.media_buffer)return void(null!==e&&e());let i=new XMLHttpRequest;i.responseType="arraybuffer",i.onload=()=>{this.media_buffer=i.response,console.log(`Slide '${this.name}' successfully loaded`),null!==e&&e()},i.onerror=()=>{console.error(`Slide '${this.name}' failed to load`),null!==t&&t()},i.open("GET",this.video,!0),i.send()}unload(){this.media_buffer=null}get_src_url(){return URL.createObjectURL(this.media_source)}}class C extends class{constructor(e,t,i,s){this.timeline_slides=[],this.current_video=1,this.slides=[],this.current_slide=-1,this.previous_slide=-1,this.next_slide=0,this.video0=e,this.video1=t,this.videos_div=i,this.timeline=s,function(e,t){let i=new XMLHttpRequest;i.onreadystatechange=()=>{if(4==i.readyState)try{t(JSON.parse(i.responseText),200==i.status)}catch(e){t(e,!1)}},i.open("GET","index.json",!0),i.send()}(0,((e,t)=>{if(!t)return console.error(e),void console.error("Slides could not be loaded");let i=e.slides;for(let e=0;e<i.length;++e)this.add_slide(i[e]);console.log(`All ${i.length} slides have been parsed successfully.`),this.load_timeline(),this.play_slide(0)}))}update_video(){let e=this.slides[this.current_slide];if(this.current_slide!=this.previous_slide){let t=this.get_current_video();this.current_video=0==this.current_video?1:0;let i=this.get_current_video();switch(i.src=e.get_src_url(),i.style.visibility="visible",e.type){case h.SKIP:i.onended=e=>{++this.current_slide,this.next_slide=this.current_slide,this.update_video()};break;case h.LOOP:i.onended=e=>{this.update_video()};break;case h.COMPLETE_LOOP:i.onended=e=>{this.current_slide=this.next_slide,this.update_video()};break;default:i.onended=e=>{}}console.log(`Playing slide '${e.name}'`),i.play().then((()=>{t.pause(),t.style.visibility="hidden"})),this.update_timeline(),this.update_source(),this.previous_slide=this.current_slide}else this.get_current_video().currentTime=0,this.get_current_video().play()}load_timeline(){for(let e of this.slides){let t=document.createElement("tr");this.timeline.appendChild(t),t.onclick=()=>{this.play_slide(e.slide_id,!0)};let i=document.createElement("td");t.appendChild(i);let s=document.createElement("img");i.appendChild(s),s.src=v,s.width=30,s.height=30,this.timeline_slides.push(s);let n=document.createElement("td");t.appendChild(n);let d=document.createElement("img");switch(n.appendChild(d),e.type){case h.NORMAL:d.src=_;break;case h.SKIP:d.src=N;break;case h.LOOP:d.src=p;break;case h.COMPLETE_LOOP:d.src=L}s.width=30,s.height=30;let r=document.createElement("td");t.appendChild(r);let l=document.createElement("button");n.appendChild(l),l.innerText=e.name}}update_timeline(){-1!=this.previous_slide&&(this.timeline_slides[this.previous_slide].src=w),this.timeline_slides[this.current_slide].src=T}play_next_slide(){this.play_slide(this.current_slide+1)}restart_current_slide(){this.play_slide(this.current_slide,!0)}play_previous_slide(){this.play_slide(this.current_slide-1,!0)}play_slide(e,t=!1){e<0||e>=this.slides.length?console.error(`Trying to switch to invalid slide number #${e}`):(console.log(`Switching to slide '${this.slides[e].name} '`),-1==this.current_slide||this.slides[this.current_slide].type!=h.COMPLETE_LOOP||t?(this.next_slide=e,this.current_slide=e,this.update_video()):this.next_slide=e)}get_current_slide(){return this.current_slide}get_current_video(){return 0==this.current_video?this.video0:this.video1}enter_fullscreen(){this.videos_div.requestFullscreen&&this.videos_div.requestFullscreen()}exit_fullscreen(){document.exitFullscreen&&document.exitFullscreen()}fullscreen_status(){return null!=document.fullscreenElement}toggle_fullscreen(){this.fullscreen_status()?this.exit_fullscreen():this.enter_fullscreen()}update_source(){}}{constructor(e,t,i,s,n,d){super(e,t,i,s),this.slides_to_auto_load=n,this.slides_to_keep=d}update_source(){for(let e=this.current_slide+1,t=Math.min(this.current_slide+this.slides_to_auto_load+1,this.slides.length);e<t;++e)this.slides[e].load();for(let e=0,t=this.current_slide-this.slides_to_keep;e<t;++e)this.slides[e].unload()}add_slide(e){this.slides.push(new A(e))}}let f=["ArrowLeft","ArrowDown","PageDown","Backspace"],j=["ArrowRight","ArrowUp","PageUp","Enter","Space"],x=["KeyF"];document.body.onload=()=>{let e=document.getElementById("play-previous-slide"),t=document.getElementById("play-current-slide"),i=document.getElementById("play-next-slide"),s=document.getElementById("enter-fullscreen");e.getElementsByTagName("img")[0].src=m,t.getElementsByTagName("img")[0].src=p,i.getElementsByTagName("img")[0].src=D,s.getElementsByTagName("img")[0].src=y;let n=document.getElementById("timeline"),d=document.getElementById("video0"),r=document.getElementById("video1"),l=document.getElementById("videos-div");if(null==d||null==r)throw"Cant't find video elements.";let o=new C(d,r,l,n,5,2);document.addEventListener("keydown",(e=>{e.repeat||(f.includes(e.code)?o.play_previous_slide():j.includes(e.code)?o.play_next_slide():x.includes(e.code)&&o.toggle_fullscreen())})),e.addEventListener("click",o.play_previous_slide.bind(o)),t.addEventListener("click",o.restart_current_slide.bind(o)),i.addEventListener("click",o.play_next_slide.bind(o)),s.addEventListener("click",o.enter_fullscreen.bind(o))}})()})();</script></body></html>